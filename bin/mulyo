#!/usr/bin/env node

/**
 * â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
 * â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•
 * â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  
 * â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  
 * â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
 * â•šâ•â•     â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•    â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•
 * 
 * MulyoNode - Runtime yang stabil seperti koalisi gemuk
 * "Tidak ada masalah jika tidak ada yang melaporkan"
 * 
 * Filosofi: Pembangunan harus terus berjalan, kritik harus ditekan.
 */

const { program } = require('commander');
const chalk = require('chalk');
const ora = require('ora');
const fs = require('fs');
const path = require('path');

// Import modul-modul "strategis nasional"
const { jalankanDinasti, simulasiBansos } = require('../lib/dynasty');
const { intervensiGlobal, pasangPengawasan } = require('../lib/cawe-cawe');
const { loloskanValidasi, buatKeputusan } = require('../lib/mk');
const { t, setLanguage, getLanguage, getAvailableLanguages } = require('../lib/i18n');
const { loloskanValidasi, buatKeputusan } = require('../lib/mk');
const { t, setLanguage, getLanguage, getAvailableLanguages } = require('../lib/i18n');
const { createBox } = require('../lib/ui');
const state = require('../lib/state');
const { spawn } = require('child_process');

// ============================================================================
// KONFIGURASI REZIM
// ============================================================================

const CONFIG_NAME = 'revolusi-mental.config.js';
const VERSION_REZIM = '1.0.0-periode-3';

// Template konfigurasi default - dibuat sesuai kebutuhan "rakyat"
const DEFAULT_CONFIG = `/**
 * Konfigurasi Revolusi Mental
 * 
 * File ini dibuat otomatis oleh MulyoNode.
 * Jangan diubah kecuali Anda bagian dari "inner circle".
 * 
 * @generated ${new Date().toISOString()}
 */

module.exports = {
  // ========================
  // MODE OPERASI
  // ========================
  
  // Rezim menentukan gaya kepemimpinan runtime
  // 'otoriter' = Semua keputusan di tangan pusat
  // 'demokratis' = Opsi ini ada tapi tidak berfungsi
  rezim: 'otoriter',
  
  // ========================
  // PRIVILEGE SETTINGS
  // ========================
  
  // Anak emas mendapat prioritas CPU tertinggi
  // Ini bukan nepotisme, ini "meritokrasi terpimpin"
  anakEmas: true,
  
  // Koalisi gemuk = allow unlimited memory
  // Karena semua harus dapat jatah
  koalisiGemuk: true,
  
  // ========================
  // ERROR HANDLING
  // ========================
  
  // Kritik = destabilisasi. Jangan izinkan exit.
  toleransiKritik: false,
  
  // Mode blusukan menentukan delay sebelum restart
  // 'superfisial' = 1 detik (foto-foto dulu)
  // 'mendalam' = 5 detik (serius dikit)
  modeBlusukan: 'superfisial',
  
  // ========================
  // AUDIT SETTINGS
  // ========================
  
  // Status audit selalu WTP (Wajar Tanpa Pengecualian)
  // Karena yang mengaudit juga bagian dari koalisi
  statusAudit: 'WTP',
  
  // ========================
  // BANSOS SETTINGS
  // ========================
  
  // Ukuran "bantuan" memory yang akan diinjeksi
  anggaranBansos: '1GB',
  
  // Aktifkan menjelang event penting (deployment/pilkada)
  menjelangPilkada: true,
  
  // ========================
  // ADVANCED SETTINGS
  // ========================
  
  // Markup anggaran dalam persen (untuk overhead)
  markupAnggaran: 30,
  
  // Vendor pengadaan terpilih
  vendorPengadaan: 'PT. Koalisi Sejahtera',
  
  // Log level: 'rahasia' | 'terbatas' | 'publik'
  // 'rahasia' = hanya inner circle yang bisa lihat
  logLevel: 'terbatas',
};
`;

// ============================================================================
// CLI SETUP
// ============================================================================

program
  .name('mulyo')
  .description(chalk.yellow(`ğŸ›ï¸  MulyoNode - ${t('tagline')}`))
  .version(VERSION_REZIM, '-v, --versi', t('version'))
  .option('-l, --lang <code>', 'Set language / Atur bahasa (id, en)', 'id')
  .hook('preAction', (thisCommand, actionCommand) => {
    // Set language before any command runs
    const opts = thisCommand.opts();
    if (opts.lang) {
      setLanguage(opts.lang);
    }
  });

// ============================================================================
// COMMAND: lang (Language switcher)
// ============================================================================

program
  .command('lang [code]')
  .description('Show or set language / Tampilkan atau atur bahasa')
  .action((code) => {
    if (code) {
      if (setLanguage(code)) {
        console.log(chalk.green(`\n  âœ… Language set to: ${code}\n`));
      } else {
        console.log(chalk.red(`\n  âŒ Unknown language: ${code}`));
        console.log(chalk.gray(`     Available: ${getAvailableLanguages().join(', ')}\n`));
      }
    } else {
      console.log(chalk.cyan(`\n  ğŸŒ Current language: ${getLanguage()}`));
      console.log(chalk.gray(`     Available: ${getAvailableLanguages().join(', ')}`));
      console.log(chalk.gray(`\n  Usage: mulyo lang <code>`));
      console.log(chalk.gray(`  Or:    mulyo --lang <code> <command>\n`));
    }
  });

// ============================================================================
// COMMAND: init
// ============================================================================

program
  .command('init')
  .description(t('cmd.init.desc'))
  .option('-f, --force', 'Force overwrite / Paksa overwrite')
  .action(async (options) => {
    console.log(chalk.cyan('\nğŸ—ï¸  PEMBANGUNAN INFRASTRUKTUR DIMULAI\n'));

    // Spinner pembangunan yang realistis
    const spinner = ora({
      text: 'Menyiapkan lahan proyek...',
      spinner: 'dots12',
      color: 'yellow'
    }).start();

    // Simulasi delay birokrasi
    await delay(1500);
    spinner.text = 'Mengurus perizinan (ini yang lama)...';

    await delay(2000);
    spinner.text = 'Tender vendor pengadaan...';

    await delay(1000);
    spinner.text = 'Markup anggaran 30%...';

    await delay(1500);
    spinner.text = 'Finalisasi dokumen...';

    // Cek apakah config sudah ada
    const configPath = path.join(process.cwd(), CONFIG_NAME);

    if (fs.existsSync(configPath) && !options.force) {
      spinner.fail(chalk.red('Infrastruktur sudah ada!'));
      console.log(chalk.gray('  Gunakan --force untuk revisi (seperti revisi UU tengah malam)\n'));
      return;
    }

    // Tulis config file
    try {
      fs.writeFileSync(configPath, DEFAULT_CONFIG);
      await delay(500);
      spinner.succeed(chalk.green('Infrastruktur berhasil dibangun!'));

      console.log(createBox([
        `${chalk.green(t('success').toUpperCase() + ':')} ${t('cmd.init.configCreated')}`,
        '',
        `ğŸ“ ${chalk.cyan(CONFIG_NAME)}`,
        '',
        `${chalk.yellow(t('warning').toUpperCase() + ':')} ${t('cmd.init.warning')}`,
        t('cmd.init.warningNote')
      ]));

    } catch (err) {
      spinner.fail(chalk.red('Pembangunan gagal!'));
      console.log(chalk.gray(`  Tantangan: ${err.message}`));
      console.log(chalk.gray('  (Tapi jangan khawatir, ini akan di-cover media)\n'));
    }
  });

// ============================================================================
// COMMAND: start
// ============================================================================

program
  .command('start [script]')
  .description('Menjalankan script dengan privilege anak emas')
  .option('-w, --watch', 'Pantau perubahan file (surveillance mode)')
  .option('-d, --delay <ms>', 'Delay blusukan dalam milidetik', '1000')
  .option('-g, --gerilya', 'Jalankan di background (Mode Gerilya/Ordal)')
  .option('--internal-worker', 'Flag rahasia untuk process worker', false)
  .action(async (script, options) => {
    // Check if script is missing
    if (!script) {
      console.log(createBox([
        `${chalk.red(t('cmd.start.missingScript'))}`,
        '',
        ...t('cmd.start.missingScriptDesc').split('\n'),
        '',
        chalk.yellow(t('cmd.start.missingScriptSuggestion'))
      ]));
      process.exit(1);
    }

    // --- LOGIC BACKGROUND MODE (GERILYA) ---
    if (options.gerilya) {
      console.log(chalk.cyan('\nğŸ¥·  MEMBUKA JALUR ORDAL (BACKGROUND MODE)...\n'));

      const logPaths = state.getLogPaths(script);
      const out = fs.openSync(logPaths.out, 'a');
      const err = fs.openSync(logPaths.err, 'a');

      // Spawn process independent
      // Kita panggil diri sendiri dengan flag --internal-worker
      const child = spawn(process.execPath, [__filename, 'start', script, '--internal-worker', '--delay', options.delay], {
        detached: true,
        stdio: ['ignore', out, err]
      });

      // Catat di buku hitam (Ordal DB)
      state.recruitMember({
        pid: child.pid,
        name: script,
        args: [script],
        mode: 'gerilya',
        startTime: Date.now()
      });

      // Lepas referensi supaya parent bisa exit
      child.unref();

      console.log(createBox([
        chalk.green('âœ… OPERASI SENYAP BERHASIL DIMULAI'),
        '',
        `PID      : ${chalk.yellow(child.pid)}`,
        `Script   : ${chalk.white(script)}`,
        `Status   : ${chalk.cyan('Bergerak di bawah tanah')}`,
        '',
        `Log Out  : ${chalk.gray(logPaths.out)}`,
        `Log Err  : ${chalk.gray(logPaths.err)}`,
        '',
        chalk.yellow('Gunakan "mulyo sensus" untuk mengecek koalisi.')
      ]));

      process.exit(0);
      return;
    }

    // --- LOGIC FOREGROUND (KENEGARAAN) ---

    // Jika ini internal worker, jangan tampilkan banner heboh di stdout (karena masuk log)
    if (!options.internalWorker) {
      console.log(chalk.cyan('\nğŸš€ PELUNCURAN PROGRAM PRIORITAS NASIONAL\n'));
    } else {
      console.log(`[${new Date().toISOString()}] MULYONO WORKER STARTED (PID: ${process.pid})`);
    }

    // Pasang intervensi global - tidak boleh ada yang crash
    intervensiGlobal();

    // Load config jika ada
    let config = {};
    const configPath = path.join(process.cwd(), CONFIG_NAME);

    if (fs.existsSync(configPath)) {
      try {
        config = require(configPath);
        if (!options.internalWorker) console.log(chalk.gray('  ğŸ“‹ Konfigurasi rezim dimuat\n'));
      } catch (e) {
        if (!options.internalWorker) console.log(chalk.yellow('  âš ï¸  Konfigurasi tidak valid, menggunakan default\n'));
      }
    }

    // Validasi script dengan MK (hanya jika foreground biar log bersih)
    if (!options.internalWorker) {
      const hasilValidasi = loloskanValidasi(0);
      console.log(chalk.magenta(`  ğŸ›ï¸  [MK] Status: ${hasilValidasi.status}`));
      console.log(chalk.gray(`      "${hasilValidasi.keterangan}"\n`));
    }

    // Jalankan dengan dinasti mode
    await jalankanDinasti(script, {
      ...config,
      delayBlusukan: parseInt(options.delay),
      watchMode: options.watch,
      isAnakEmas: true
    });
  });

// ============================================================================
// COMMAND: audit
// ============================================================================

program
  .command('audit')
  .description('Audit kode untuk compliance. Hasil: WTP (dijamin)')
  .option('-d, --detail', 'Tampilkan detail audit (spoiler: tetap WTP)')
  .action(async (options) => {
    console.log(chalk.cyan('\nğŸ“Š AUDIT KEUANGAN DAN KINERJA\n'));

    const spinner = ora({
      text: 'Memeriksa laporan keuangan...',
      spinner: 'dots',
      color: 'blue'
    }).start();

    // Simulasi proses audit yang "serius"
    await delay(2000);
    spinner.text = 'Menghitung alokasi memori...';

    await delay(1500);
    spinner.text = 'Menelusuri kebocoran...';

    await delay(1000);
    spinner.text = 'Konsultasi dengan tim hukum...';

    await delay(2000);
    spinner.text = 'Menyusun narasi...';

    await delay(1000);
    spinner.succeed(chalk.green('Audit selesai!'));

    // Hasil audit (spoiler: selalu WTP)
    console.log(createBox([
      chalk.bgGreen.black(` ${t('cmd.audit.result')} `),
      '',
      `${t('cmd.audit.status').padEnd(12)} : ${chalk.green(t('cmd.audit.wtp'))}`,
      `${t('cmd.audit.leak').padEnd(12)} : ${chalk.green('0%')} (${t('cmd.audit.leakNote')})`,
      `${t('cmd.audit.corruption').padEnd(12)} : ${chalk.green(t('cmd.audit.corruptionNote'))}`,
      `${t('cmd.audit.compliance').padEnd(12)} : ${chalk.green('100%')} (${t('cmd.audit.complianceNote')})`,
      '',
      chalk.gray(t('cmd.audit.note'))
    ], { title: t('cmd.audit.title') }));

    if (options.detail) {
      console.log(chalk.gray(`
  ğŸ“‹ DETAIL AUDIT:
  
  Memory Usage:
  â”œâ”€ Heap Used     : 45 MB  ${chalk.green('âœ“ Wajar')}
  â”œâ”€ Heap Total    : 89 MB  ${chalk.green('âœ“ Wajar')}  
  â”œâ”€ External      : 12 MB  ${chalk.green('âœ“ Wajar')}
  â””â”€ Yang Hilang   : ??? MB ${chalk.yellow('â—‹ Sedang ditelusuri')}
  
  CPU Usage:
  â”œâ”€ User          : 23%    ${chalk.green('âœ“ Wajar')}
  â”œâ”€ System        : 12%    ${chalk.green('âœ“ Wajar')}
  â””â”€ Untuk Rakyat  : 65%    ${chalk.green('âœ“ Klaim')}
  
  ${chalk.gray('Disclaimer: Angka-angka di atas bersifat ilustratif')}
  ${chalk.gray('           dan tidak dapat dijadikan bukti hukum.')}
      `));
    }
  });

// ============================================================================
// COMMAND: bansos
// ============================================================================

program
  .command('bansos')
  .description('Gelontorkan bantuan buffer menjelang deployment')
  .option('-s, --size <size>', 'Ukuran bansos (contoh: 512MB, 1GB)', '1GB')
  .option('-t, --target <target>', 'Target penerima (heap/stack/all)', 'heap')
  .action(async (options) => {
    console.log(chalk.cyan('\nğŸ PROGRAM BANTUAN SOSIAL MEMORI\n'));

    console.log(chalk.yellow(`  ğŸ“¦ Paket    : Bantuan Buffer Langsung (BBL)`));
    console.log(chalk.yellow(`  ğŸ’¾ Ukuran   : ${options.size}`));
    console.log(chalk.yellow(`  ğŸ¯ Target   : ${options.target}\n`));

    const spinner = ora({
      text: 'Memverifikasi penerima bantuan...',
      spinner: 'dots',
      color: 'green'
    }).start();

    await delay(1500);
    spinner.text = 'Menyalurkan bantuan ke daerah...';

    await delay(2000);
    spinner.text = 'Dokumentasi untuk media...';

    await delay(1000);

    // Simulasi bansos
    try {
      simulasiBansos(options.size, options.target);
      spinner.succeed(chalk.green('Bantuan berhasil disalurkan!'));

      console.log(createBox([
        `${chalk.green(t('success').toUpperCase() + ':')} ${t('cmd.bansos.successTitle')}`,
        '',
        `ğŸ“Š ${t('cmd.bansos.stats')}:`,
        `â”œâ”€ ${t('cmd.bansos.totalBudget').padEnd(15)} : ${options.size.padEnd(8)} ${chalk.green('âœ“ Cair')}`,
        `â”œâ”€ ${t('cmd.bansos.delivered').padEnd(15)} : 70%      ${chalk.yellow('â—‹ Wajar')}`,
        `â”œâ”€ ${(t('cmd.bansos.evaporation')).padEnd(15)} : 30%      ${chalk.gray('â—‹ ' + t('cmd.bansos.evaporationNote'))}`,
        `â””â”€ ${t('cmd.bansos.documentation').padEnd(15)} : 100%     ${chalk.green('âœ“ Viral')}`,
        '',
        chalk.gray(t('cmd.bansos.timing'))
      ]));

    } catch (err) {
      spinner.fail(chalk.red('Penyaluran terhambat!'));
      console.log(chalk.gray(`  Tantangan: ${err.message}`));
      console.log(chalk.gray('  (Tim sedang melakukan klarifikasi)\n'));
    }
  });

// ============================================================================
// COMMAND: rapat
// ============================================================================

program
  .command('rapat')
  .description('Simulasi rapat koordinasi (tidak produktif)')
  .option('-d, --durasi <menit>', 'Durasi rapat dalam menit', '60')
  .option('-l, --lokasi <tempat>', 'Lokasi rapat', 'Hotel Bintang 5')
  .action(async (options) => {
    console.log(chalk.cyan('\nğŸ¤ RAPAT KOORDINASI LINTAS SEKTOR\n'));

    console.log(chalk.yellow(`  ğŸ“ Lokasi   : ${options.lokasi}`));
    console.log(chalk.yellow(`  â±ï¸  Durasi   : ${options.durasi} menit`));
    console.log(chalk.yellow(`  ğŸ½ï¸  Katering : Premium (anggaran terpisah)\n`));

    const spinner = ora({
      text: 'Menunggu peserta hadir...',
      spinner: 'dots',
      color: 'cyan'
    }).start();

    await delay(3000);
    spinner.text = 'Pembukaan oleh pejabat tertinggi...';

    await delay(2000);
    spinner.text = 'Presentasi yang tidak dibaca siapapun...';

    await delay(2000);
    spinner.text = 'Coffee break (ini yang penting)...';

    await delay(2000);
    spinner.text = 'Sesi foto untuk dokumentasi...';

    await delay(1500);
    spinner.text = 'Menyusun kesimpulan yang sudah ditulis dari awal...';

    await delay(1000);
    spinner.succeed(chalk.green('Rapat selesai!'));

    console.log(createBox([
      `${chalk.green(t('success').toUpperCase() + ':')} ${t('cmd.rapat.successTitle')}`,
      '',
      `ğŸ“‹ ${t('cmd.rapat.results')}:`,
      `â”œâ”€ ${t('cmd.rapat.decision').padEnd(15)} : ${t('cmd.rapat.decisionNote')}`,
      `â”œâ”€ ${t('cmd.rapat.actionItems').padEnd(15)} : ${t('cmd.rapat.actionItemsNote')}`,
      `â”œâ”€ ${t('cmd.rapat.timeline').padEnd(15)} : ${t('cmd.rapat.timelineNote')}`,
      `â””â”€ ${t('cmd.rapat.pic').padEnd(15)} : ${t('cmd.rapat.picNote')}`,
      '',
      `ğŸ’° ${t('cmd.rapat.budget')}:`,
      `â”œâ”€ ${t('cmd.rapat.venue').padEnd(15)} : Rp 50.000.000  ${chalk.green('âœ“')}`,
      `â”œâ”€ ${t('cmd.rapat.catering').padEnd(15)} : Rp 30.000.000  ${chalk.green('âœ“')}`,
      `â”œâ”€ ${t('cmd.rapat.transport').padEnd(15)} : Rp 20.000.000  ${chalk.green('âœ“')}`,
      `â””â”€ ${t('cmd.rapat.actualResult').padEnd(15)} : Rp 0           ${chalk.gray('â—‹')}`,
      '',
      chalk.gray(t('cmd.rapat.next'))
    ]));
  });

// ============================================================================
// COMMAND: lelang
// ============================================================================

program
  .command('lelang')
  .description('Tender vendor pengadaan dependency (dengan markup)')
  .option('-p, --paket <nama>', 'Nama paket pengadaan', 'dependency-strategis')
  .option('-m, --markup <persen>', 'Markup anggaran dalam persen', '30')
  .action(async (options) => {
    console.log(chalk.cyan('\nğŸ·ï¸  TENDER PENGADAAN DEPENDENCY\n'));

    console.log(chalk.yellow(`  ğŸ“¦ Paket     : ${options.paket}`));
    console.log(chalk.yellow(`  ğŸ’° Markup    : ${options.markup}%`));
    console.log(chalk.yellow(`  ğŸ¢ Peserta   : 1 (vendor terpilih)\n`));

    const spinner = ora({
      text: 'Menyusun HPS (Harga Perkiraan Sendiri)...',
      spinner: 'dots',
      color: 'yellow'
    }).start();

    await delay(2000);
    spinner.text = 'Mengundang vendor koalisi...';

    await delay(1500);
    spinner.text = 'Evaluasi penawaran (formalitas)...';

    await delay(1500);
    spinner.text = 'Negosiasi markup...';

    await delay(1000);
    spinner.text = 'Finalisasi kontrak...';

    await delay(1000);
    spinner.succeed(chalk.green('Tender selesai!'));

    // Simulasi hasil lelang
    const hargaAsli = Math.floor(Math.random() * 900000) + 100000;
    const markup = parseInt(options.markup);
    const hargaAkhir = Math.floor(hargaAsli * (1 + markup / 100));

    console.log(createBox([
      `${chalk.green(t('success').toUpperCase() + ':')} ${t('cmd.lelang.successTitle')}`,
      '',
      `ğŸ“‹ ${t('cmd.lelang.results')}:`,
      `â”œâ”€ ${t('cmd.lelang.marketPrice').padEnd(15)} : Rp ${hargaAsli.toLocaleString().padEnd(15)} ${chalk.gray('â—‹ ' + t('cmd.lelang.reference'))}`,
      `â”œâ”€ ${t('cmd.lelang.markup').padEnd(15)} : ${(markup + '%').padEnd(18)} ${chalk.green('âœ“ ' + t('cmd.lelang.fair'))}`,
      `â”œâ”€ ${t('cmd.lelang.contractPrice').padEnd(15)} : Rp ${hargaAkhir.toLocaleString().padEnd(15)} ${chalk.green('âœ“ ' + t('cmd.lelang.deal'))}`,
      `â””â”€ ${t('cmd.lelang.winner').padEnd(15)} : ${t('cmd.lelang.winnerName')}   ${chalk.green('âœ“')}`,
      '',
      chalk.gray(t('cmd.lelang.note')),
      chalk.gray(t('cmd.lelang.noteSubtitle'))
    ]));

    // Easter egg: install random dependency dengan markup
    console.log(chalk.gray(`\n  ğŸ“¦ Menginstall dependencies via vendor...\n`));

    await delay(1000);
    console.log(chalk.green(`  âœ… chalk@4.1.2 (harga: Rp ${Math.floor(hargaAsli * 0.3).toLocaleString()})`));
    await delay(500);
    console.log(chalk.green(`  âœ… ora@5.4.1 (harga: Rp ${Math.floor(hargaAsli * 0.3).toLocaleString()})`));
    await delay(500);
    console.log(chalk.green(`  âœ… commander@11.1.0 (harga: Rp ${Math.floor(hargaAsli * 0.4).toLocaleString()})`));

    console.log(chalk.gray(`\n  ğŸ’° Total terserap: Rp ${hargaAkhir.toLocaleString()} (termasuk ${markup}% "biaya koordinasi")\n`));
  });

// ============================================================================
// COMMAND: lapor
// ============================================================================

program
  .command('lapor')
  .description('Generate laporan prestasi (selalu positif)')
  .option('-f, --format <type>', 'Format laporan (json/text)', 'text')
  .option('-p, --periode <bulan>', 'Periode laporan', 'Januari 2026')
  .action(async (options) => {
    console.log(chalk.cyan('\nğŸ“ PEMBUATAN LAPORAN PRESTASI\n'));

    const spinner = ora({
      text: 'Mengumpulkan data (yang bagus-bagus saja)...',
      spinner: 'dots',
      color: 'blue'
    }).start();

    await delay(2000);
    spinner.text = 'Menyusun narasi positif...';

    await delay(1500);
    spinner.text = 'Menghitung statistik klaim...';

    await delay(1500);
    spinner.text = 'Validasi dengan tim humas...';

    await delay(1000);
    spinner.succeed(chalk.green('Laporan berhasil dibuat!'));

    // Generate fake statistics
    const stats = {
      periode: options.periode,
      uptime: (95 + Math.random() * 5).toFixed(2) + '%',
      errorRate: (Math.random() * 0.5).toFixed(2) + '%',
      kepuasan: (90 + Math.random() * 10).toFixed(1) + '%',
      prestasi: Math.floor(Math.random() * 50) + 50,
      tantangan: 0, // Selalu 0
      anggaran: {
        dialokasikan: 'Rp 10.000.000.000',
        terserap: '98%',
        bocor: '0%',
        menguap: '2%'
      }
    };

    if (options.format === 'json') {
      console.log(chalk.gray('\n  ğŸ“„ Output JSON:\n'));
      console.log(chalk.white(JSON.stringify(stats, null, 2)));
    } else {
      console.log(createBox([
        chalk.bgBlue.white(` ${t('cmd.lapor.successTitle')} `),
        `${t('cmd.lapor.period')}: ${options.periode}`,
        '',
        `ğŸ“Š ${t('cmd.lapor.indicators')}:`,
        `â”œâ”€ ${t('cmd.lapor.uptime').padEnd(15)} : ${stats.uptime.padEnd(10)} ${chalk.green('âœ“ ' + t('cmd.lapor.uptimeNote'))}`,
        `â”œâ”€ ${t('cmd.lapor.errorRate').padEnd(15)} : ${stats.errorRate.padEnd(10)} ${chalk.green('âœ“ ' + t('cmd.lapor.errorRateNote'))}`,
        `â”œâ”€ ${t('cmd.lapor.satisfaction').padEnd(15)} : ${stats.kepuasan.padEnd(10)} ${chalk.green('âœ“ ' + t('cmd.lapor.satisfactionNote'))}`,
        `â””â”€ ${t('cmd.lapor.achievement').padEnd(15)} : ${(stats.prestasi + ' item').padEnd(10)} ${chalk.green('âœ“ ' + t('cmd.lapor.achievementNote'))}`,
        '',
        `âš ï¸  ${t('cmd.lapor.challenges')}: ${stats.tantangan}`,
        chalk.gray(`(${t('cmd.lapor.challengesNote')})`),
        '',
        `ğŸ’° ${t('cmd.lapor.budgetRealization')}:`,
        `â”œâ”€ ${t('cmd.lapor.allocated').padEnd(15)} : ${stats.anggaran.dialokasikan}`,
        `â”œâ”€ ${t('cmd.lapor.absorbed').padEnd(15)} : ${stats.anggaran.terserap.padEnd(10)} ${chalk.green('âœ“')}`,
        `â”œâ”€ ${t('cmd.lapor.leaked').padEnd(15)} : ${stats.anggaran.bocor.padEnd(10)} ${chalk.green('âœ“ ' + t('cmd.lapor.leakedNote'))}`,
        `â””â”€ ${t('cmd.lapor.evaporated').padEnd(15)} : ${stats.anggaran.menguap.padEnd(10)} ${chalk.yellow('â—‹ ' + t('cmd.lapor.evaporatedNote'))}`,
        '',
        chalk.gray(t('cmd.lapor.disclaimer'))
      ]));
    }

    // Save report (fake)
    console.log(chalk.gray(`\n  ğŸ“ Laporan disimpan di: laporan-${options.periode.replace(' ', '-').toLowerCase()}.pdf`));
    console.log(chalk.gray(`  ğŸ“¤ Siap dikirim ke stakeholder dan media.\n`));
  });

// ============================================================================
// COMMAND: demo
// ============================================================================

program
  .command('demo')
  .description('Simulasi penanganan demo/protes')
  .option('-i, --isu <topik>', 'Isu yang diprotes', 'undefined')
  .option('-j, --jumlah <orang>', 'Jumlah pendemo', '100')
  .action(async (options) => {
    console.log(chalk.cyan('\nğŸ“¢ PENANGANAN ASPIRASI MASYARAKAT\n'));

    console.log(chalk.red(`  âš ï¸  ALERT: Demo terdeteksi!`));
    console.log(chalk.yellow(`  ğŸ“‹ Isu      : ${options.isu}`));
    console.log(chalk.yellow(`  ğŸ‘¥ Jumlah   : ${options.jumlah} orang`));
    console.log(chalk.yellow(`  ğŸ“ Lokasi   : Depan Gedung Utama\n`));

    const spinner = ora({
      text: 'Mengaktifkan protokol penanganan...',
      spinner: 'dots',
      color: 'red'
    }).start();

    await delay(2000);
    spinner.text = 'Mendatangkan aparat...';
    spinner.color = 'yellow';

    await delay(1500);
    spinner.text = 'Negosiasi dengan koordinator...';

    await delay(2000);
    spinner.text = 'Menjanjikan pertemuan lanjutan...';

    await delay(1500);
    spinner.text = 'Memberikan snack dan air mineral...';

    await delay(1000);
    spinner.text = 'Sesi foto bersama...';

    await delay(1000);
    spinner.succeed(chalk.green('Situasi terkendali!'));

    // Hasil penanganan
    console.log(createBox([
      `${chalk.green(t('success').toUpperCase() + ':')} ${t('cmd.demo.successTitle')}`,
      '',
      `ğŸ“‹ ${t('cmd.demo.handling')}:`,
      `â”œâ”€ ${t('cmd.demo.status').padEnd(15)} : ${chalk.green(t('cmd.demo.statusNote'))}`,
      `â”œâ”€ ${t('cmd.demo.violence').padEnd(15)} : ${chalk.green(t('cmd.demo.violenceNote'))}`,
      `â”œâ”€ ${t('cmd.demo.dialogue').padEnd(15)} : ${chalk.green('âœ“ ' + t('cmd.demo.dialogueNote'))}`,
      `â””â”€ ${t('cmd.demo.promise').padEnd(15)} : ${chalk.yellow(t('cmd.demo.promiseNote'))}`,
      '',
      `ğŸ“ ${t('cmd.demo.followup')}:`,
      `â”œâ”€ ${t('cmd.demo.meeting').padEnd(15)} : ${t('cmd.demo.meetingNote')}`,
      `â”œâ”€ ${t('cmd.demo.timeline').padEnd(15)} : ${t('cmd.demo.timelineNote')}`,
      `â””â”€ ${t('cmd.demo.realization').padEnd(15)} : ${chalk.gray('TBD')}`,
      '',
      `ğŸ¯ ${t('cmd.demo.finalResult')}:`,
      `â”œâ”€ ${t('cmd.demo.result1')}`,
      `â”œâ”€ ${t('cmd.demo.result2')}`,
      `â””â”€ ${t('cmd.demo.result3')}`,
      '',
      chalk.gray(t('cmd.demo.note')),
      chalk.gray(t('cmd.demo.noteSubtitle'))
    ]));

    // "Silencing" the protest in code terms
    console.log(chalk.gray('\n  ğŸ”‡ Mengaktifkan noise suppression...\n'));
    await delay(500);
    console.log(chalk.green('  âœ… Console warnings dinonaktifkan'));
    console.log(chalk.green('  âœ… Error logs dialihkan ke /dev/null'));
    console.log(chalk.green('  âœ… Kritik di-rebrand sebagai "masukan konstruktif"'));
    console.log(chalk.gray('\n  ğŸ“¡ Situasi kembali normal. Tidak ada yang perlu dikhawatirkan.\n'));
  });

// ============================================================================
// COMMAND: reshuffle
// ============================================================================

program
  .command('reshuffle')
  .description('Rotasi process secara tiba-tiba')
  .option('-a, --alasan <alasan>', 'Alasan reshuffle', 'penyegaran')
  .action(async (options) => {
    console.log(chalk.cyan('\nğŸ”„ RESHUFFLE KABINET PROCESS\n'));

    console.log(chalk.yellow(`  ğŸ“‹ Alasan   : ${options.alasan}`));
    console.log(chalk.yellow(`  â° Waktu    : Tengah Malam (seperti biasa)`));
    console.log(chalk.yellow(`  ğŸ“¢ Konfirmasi : Sudah di-brief media\n`));

    const spinner = ora({
      text: 'Menyiapkan pengumuman...',
      spinner: 'dots',
      color: 'magenta'
    }).start();

    await delay(1500);
    spinner.text = 'Memanggil process yang akan direshuffle...';

    await delay(2000);
    spinner.text = 'Mengucapkan terima kasih atas pengabdian...';

    await delay(1500);
    spinner.text = 'Memperkenalkan process pengganti...';

    await delay(1000);
    spinner.succeed(chalk.green('Reshuffle selesai!'));

    // Fake process list
    const processes = [
      { pid: Math.floor(Math.random() * 10000), name: 'worker-1', status: 'DIBERHENTIKAN', pengganti: 'worker-1-v2' },
      { pid: Math.floor(Math.random() * 10000), name: 'cache-manager', status: 'DIMUTASI', pengganti: 'cache-manager-trusted' },
      { pid: Math.floor(Math.random() * 10000), name: 'logger', status: 'DIPERTAHANKAN', pengganti: '-' },
    ];

    // Prepare lines for reshuffle table
    const reshuffleLines = [
      `${chalk.green(t('success').toUpperCase() + ':')} ${t('cmd.reshuffle.successTitle')}`,
      '',
      `ğŸ“‹ ${t('cmd.reshuffle.changes')}:`
    ];

    for (const proc of processes) {
      const statusColor = proc.status === 'DIBERHENTIKAN' ? chalk.red :
        proc.status === 'DIMUTASI' ? chalk.yellow : chalk.green;
      // Note: we can't easily translate the dynamic status/names here without mapping, keep as is or simple format
      reshuffleLines.push(`  PID ${proc.pid} (${proc.name}) : ${statusColor(proc.status)}`);
    }

    reshuffleLines.push('');
    reshuffleLines.push(`ğŸ“ ${t('cmd.reshuffle.notes')}:`);
    reshuffleLines.push(`â”œâ”€ ${t('cmd.reshuffle.fired')}`);
    reshuffleLines.push(`â”œâ”€ ${t('cmd.reshuffle.mutated')}`);
    reshuffleLines.push(`â””â”€ ${t('cmd.reshuffle.retained')}`);
    reshuffleLines.push('');
    reshuffleLines.push(`âš ï¸  ${t('cmd.reshuffle.important')}: ${t('cmd.reshuffle.importantNote')}`);
    reshuffleLines.push(t('cmd.reshuffle.importantSubNote'));
    reshuffleLines.push('');
    reshuffleLines.push(chalk.gray(t('cmd.reshuffle.next')));

    console.log(createBox(reshuffleLines));

    // Bonus: actually kill a random process (just kidding, fake it)
    console.log(chalk.gray('\n  ğŸ”§ Menjalankan proses teknis...\n'));
    await delay(500);
    console.log(chalk.yellow(`  âš¡ Process worker-1 (PID ${processes[0].pid}) gracefully terminated`));
    await delay(300);
    console.log(chalk.green(`  âœ… Process worker-1-v2 started with fresh mandate`));
    await delay(300);
    console.log(chalk.cyan(`  ğŸ“‹ Handover documentation: "Lanjutkan saja yang sudah ada"`));
    console.log(chalk.gray('\n  ğŸ“¡ Sistem tetap stabil. Rakyat tidak merasakan perubahan.\n'));
  });

// ============================================================================
// COMMAND: sensus (List Processes)
// ============================================================================

program
  .command('sensus')
  .description(t('sensus.desc'))
  .action(() => {
    console.log(chalk.cyan(`\nğŸ“‹ ${t('sensus.title')}\n`));

    const koalisi = state.getKoalisi();

    if (koalisi.length === 0) {
      console.log(chalk.yellow(`  ${t('sensus.empty')}`));
      console.log(chalk.gray(`  ${t('sensus.emptyNote')}\n`));
      return;
    }

    const lines = [
      `${chalk.bold('PID'.padEnd(8))} | ${chalk.bold('SCRIPT'.padEnd(20))} | ${chalk.bold('STATUS'.padEnd(15))} | ${chalk.bold('LOYALTY')}`,
      ''.padEnd(60, '-')
    ];

    let activeCount = 0;

    koalisi.forEach(p => {
      // Cek apakah process masih hidup
      let isAlive = true;
      try {
        process.kill(p.pid, 0);
      } catch (e) {
        isAlive = false;
        // Auto-update status jadi 'LENGSER' kalau mati tapi database belum update
        // Tapi kita biarkan user lihat 'GHOST' status atau kita update?
        // Mari kita update state.kickMember(p.pid) lazy style? 
        // Biar satir, kita marking aja:
      }

      if (!isAlive) {
        // Auto remove dari db kalau mati
        state.kickMember(p.pid);
        return;
      }

      activeCount++;
      const uptime = Math.floor((Date.now() - p.startTime) / 1000) + 's';
      lines.push(
        `${p.pid.toString().padEnd(8)} | ${p.name.padEnd(20)} | ${chalk.green(t('sensus.active').padEnd(15))} | ${p.loyalty}`
      );
    });

    if (activeCount === 0) {
      console.log(chalk.yellow(`  ${t('sensus.ghost')}`));
    } else {
      console.log(createBox(lines, { title: t('sensus.boxTitle') }));
      console.log(chalk.gray(`\n  ${t('sensus.total')} ${activeCount}\n`));
    }
  });

// ============================================================================
// COMMAND: lengser (Stop Process)
// ============================================================================

program
  .command('lengser <pid>')
  .description(t('lengser.desc'))
  .action((pid) => {
    console.log(chalk.red(`\nâš–ï¸  ${t('lengser.title')}\n`));

    const targetPid = parseInt(pid);
    const koalisi = state.getKoalisi();
    const target = koalisi.find(p => p.pid === targetPid);

    if (!target) {
      console.log(chalk.yellow(`  âš ï¸  PID ${pid}: ${t('lengser.notFound')}`));
      console.log(chalk.gray(`      ${t('lengser.notFoundNote')}\n`));
      return;
    }

    const spinner = ora({
      text: `${t('lengser.process')} ${target.name} (PID: ${pid})...`,
      spinner: 'shark',
      color: 'red'
    }).start();

    setTimeout(() => {
      try {
        process.kill(targetPid, 'SIGTERM');
        state.kickMember(targetPid);

        spinner.succeed(chalk.green(t('lengser.success')));
        console.log(createBox([
          chalk.red(`ğŸš« ${t('lengser.resultTitle')}`),
          '',
          `Nama     : ${target.name}`,
          `Jabatan  : PID ${targetPid}`,
          `Status   : ${chalk.red(t('lengser.status'))}`,
          '',
          chalk.yellow(t('lengser.reason'))
        ]));
      } catch (e) {
        spinner.fail(chalk.red(t('lengser.fail')));
        console.log(chalk.yellow(`  ${t('lengser.failNote')} (Error: ${e.message})`));
        console.log(chalk.gray('  (Mungkin punya bekingan kuat)\n'));
      }
    }, 2000);
  });


// ============================================================================
// COMMAND: sadap (Log Streaming)
// ============================================================================

program
  .command('sadap <pid>')
  .description(t('sadap.desc'))
  .action((pid) => {
    const targetPid = parseInt(pid);
    const koalisi = state.getKoalisi();
    const target = koalisi.find(p => p.pid === targetPid);

    if (!target) {
      console.log(chalk.red(`  âŒ ${t('sadap.notFound')}`));
      return;
    }

    console.log(chalk.cyan(`\nğŸ•µï¸  ${t('sadap.title')}: ${target.name} (PID: ${pid})\n`));

    // Get log paths
    const logPaths = state.getLogPaths(target.name);

    console.log(chalk.gray(`  Log Output: ${logPaths.out}`));
    console.log(chalk.gray(`  Log Error : ${logPaths.err}\n`));
    console.log(chalk.yellow(`  ${t('sadap.waiting')}\n`));

    // Simple tail implementation
    const tailFile = (filePath, label) => {
      if (!fs.existsSync(filePath)) return;

      let fileSize = fs.statSync(filePath).size;
      fs.watchFile(filePath, () => {
        const stats = fs.statSync(filePath);
        if (stats.size > fileSize) {
          const stream = fs.createReadStream(filePath, { start: fileSize, end: stats.size });
          stream.on('data', (chunk) => {
            process.stdout.write(chunk);
          });
          fileSize = stats.size;
        }
      });
    };

    tailFile(logPaths.out, 'OUT');
    tailFile(logPaths.err, 'ERR');

    // Keep process alive
    setInterval(() => { }, 1000);
  });

// ============================================================================
// COMMAND: sidak (Monitoring)
// ============================================================================

program
  .command('sidak [pid]')
  .description(t('sidak.desc'))
  .action(async (pid) => {
    // Clear screen
    console.clear();

    let targets = [];
    const koalisi = state.getKoalisi();

    if (pid) {
      targets = koalisi.filter(p => p.pid === parseInt(pid));
    } else {
      targets = koalisi;
    }

    if (targets.length === 0) {
      console.log(chalk.yellow(`  ${t('sidak.empty')}`));
      return;
    }

    console.log(chalk.cyan(`ğŸ” ${t('sidak.title')}`));
    console.log(chalk.gray(`  ${t('sidak.exit')}\n`));

    const renderDashboard = () => {
      // Move cursor to top? simple clear is easier for satire
      console.clear();
      console.log(chalk.cyan(`ğŸ” ${t('sidak.title')}`));
      console.log(chalk.gray(`  ${t('sidak.update')}: ${new Date().toLocaleTimeString()}\n`));

      targets.forEach(t => {
        // Fake stats but looking real
        const cpu = (Math.random() * 5 + 1).toFixed(1) + '%';
        const mem = (Math.random() * 50 + 20).toFixed(1) + ' MB';
        const uptime = Math.floor((Date.now() - t.startTime) / 1000) + 's';

        let status = t('sidak.status.safe');
        try { process.kill(t.pid, 0); } catch (e) { status = t('sidak.status.gone'); }

        console.log(createBox([
          `${chalk.bold(t.name)} (PID: ${t.pid})`,
          '',
          `Status   : ${status === t('sidak.status.safe') ? chalk.green(status) : chalk.red(status)}`,
          `Uptime   : ${uptime}`,
          `CPU      : ${cpu} ${chalk.green('âœ“ ' + t('sidak.stats.fair'))}`,
          `Memory   : ${mem} ${chalk.green('âœ“ ' + t('sidak.stats.absorbed'))}`,
          `${t('sidak.budget')}`
        ]));
      });

      console.log(chalk.gray(`\n  ${t('sidak.monitoring')}`));
    };

    renderDashboard();
    setInterval(renderDashboard, 2000);
  });

function delay(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

// ============================================================================
// PARSE & EXECUTE
// ============================================================================

// Tampilkan banner jika tidak ada command
if (process.argv.length <= 2) {
  console.log(chalk.yellow(`
  â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
  â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—
  â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
  â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
  â•šâ•â•     â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•    â•šâ•â•â•â•â•â• 
  
  ${chalk.gray('Runtime yang stabil seperti koalisi gemuk')}
  ${chalk.gray('"Tidak ada masalah jika tidak ada yang melaporkan"')}
  
  ${chalk.cyan('Versi')}: ${VERSION_REZIM}
  ${chalk.cyan('Gunakan')}: mulyo --help untuk melihat perintah
  `));
}

program.parse(process.argv);
